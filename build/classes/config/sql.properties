# Configuracao do framework topsys.
JNDI.CONNECTION java:comp/env/jdbc/HosFlowDS
CLASS.BROKER.IMPL br.com.topsys.database.jdbc.TSDataBaseBrokerImpl
CLASS.SEQUENCE.IMPL br.com.topsys.database.jdbc.sequence.TSSequencePostgresImpl
CODIGO.UNIQUE 23505
CODIGO.FOREIGNKEY 23503
CODIGO.RAISE.EXCEPTION P0001

#CotacaoProdutoFornecedorDAO
cotacaoprodutofornecedordao.obter=SELECT DISTINCT CP.COTACAO_ID, F.ID, F.NOME_FANTASIA FROM FORNECEDOR F, COTACAO_PRODUTO_FORNECEDOR CPF, COTACAO_PRODUTO CP, COTACAO C WHERE F.ID = CPF.FORNECEDOR_ID AND CPF.COTACAO_PRODUTO_ID = CP.ID AND C.ID = CP.COTACAO_ID AND C.STATUS_COTACAO_ID = 2 AND C.DATA_VALIDADE >= CURRENT_DATE AND CP.FLAG_ATIVO AND MD5(F.ID::TEXT || CP.COTACAO_ID::TEXT) = ?
cotacaoprodutofornecedordao.alterar=UPDATE COTACAO_PRODUTO_FORNECEDOR SET VALOR = ?, FABRICANTE_ID = ?, OBSERVACAO = ?, DATA_ATUALIZACAO = ?, USUARIO_ATUALIZACAO_ID = NULL WHERE ID = ?  
cotacaoprodutofornecedordao.pesquisar=SELECT CPF.ID, CP.COTACAO_ID, CP.PRODUTO_ID, PRO.NOME_PRINCIPAL, UM.DESCRICAO, CP.QUANTIDADE_SOLICITADA, CP.OBSERVACAO, CPF.COTACAO_PRODUTO_ID, CPF.FORNECEDOR_ID, F.NOME_FANTASIA, CPF.VALOR, CPF.OBSERVACAO, CPF.DATA_ATUALIZACAO, CPF.FABRICANTE_ID, (SELECT F2.NOME FROM FABRICANTE F2 WHERE F2.ID = CPF.FABRICANTE_ID) FROM COTACAO_PRODUTO_FORNECEDOR CPF, COTACAO_PRODUTO CP, PRODUTO PRO, UNIDADE_MEDIDA UM, FORNECEDOR F WHERE CPF.COTACAO_PRODUTO_ID = CP.ID AND PRO.ID = CP.PRODUTO_ID AND UM.ID = PRO.UNIDADE_MEDIDA_ID AND F.ID = CPF.FORNECEDOR_ID AND CP.COTACAO_ID = ? AND CPF.FORNECEDOR_ID = ? ORDER BY CPF.VALOR, CPF.ID
cotacaoprodutofornecedordao.pesquisarfabricantesautorizados=SELECT F.ID, F.NOME FROM FABRICANTE F, PRODUTO_FABRICANTE PF WHERE PF.FABRICANTE_ID = F.ID AND PF.PRODUTO_ID = ? ORDER BY F.NOME