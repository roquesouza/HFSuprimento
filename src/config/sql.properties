# Configuracao do framework topsys.
JNDI.CONNECTION java:jboss/HosFlowDS 
CLASS.BROKER.IMPL br.com.topsys.database.jdbc.TSDataBaseBrokerCMTImpl
CLASS.SEQUENCE.IMPL br.com.topsys.database.jdbc.sequence.TSSequencePostgresImpl
CODIGO.UNIQUE 23505
CODIGO.FOREIGNKEY 23503
CODIGO.RAISE.EXCEPTION P0001

#FornecedorDAO
fornecedordao.obter=SELECT ID, TIPO_IDENTIFICADOR_ID,(SELECT T.DESCRICAO FROM TIPO_IDENTIFICADOR T WHERE T.ID = F.TIPO_IDENTIFICADOR_ID), IDENTIFICADOR, RAZAO_SOCIAL, NOME_FANTASIA, INSCRICAO_ESTADUAL, INSCRICAO_MUNICIPAL, EMAIL, HOMEPAGE, TO_CHAR(DATA_CADASTRO, 'DD/MM/YYYY HH24:MI'), OBSERVACAO,LOGIN_ACESSO,SENHA FROM FORNECEDOR F WHERE ID = ?

#CotacaoProdutoFornecedorDAO
cotacaoprodutofornecedordao.pesquisarporproduto=SELECT FC.FORNECEDOR_ID , CP.ID FROM   CATEGORIA CT, FORNECEDOR_CATEGORIA FC, PRODUTO PR, COTACAO_PRODUTO CP WHERE  CT.ID = PR.CATEGORIA_ID AND  CT.ID = FC.CATEGORIA_ID AND  PR.ID = CP.PRODUTO_ID AND  CP.PRODUTO_ID = ? AND  CP.COTACAO_ID = ?
cotacaoprodutofornecedordao.remover=SELECT * FROM COTACAO_PRODUTO_FORNECEDOR CP WHERE CP.COTACAO_PRODUTO_ID IN ( SELECT CP.ID FROM COTACAO C,COTACAO_PRODUTO CP WHERE C.ID = CP.COTACAO_ID AND C.ID=?)
cotacaoprodutofornecedordao.alterar=UPDATE COTACAO_PRODUTO_FORNECEDOR SET VALOR=? WHERE ID=?  
cotacaoprodutofornecedordao.liberarcotacao=UPDATE COTACAO_PRODUTO_FORNECEDOR SET FLAG_SELECIONADO=? WHERE ID=?
cotacaoprodutofornecedordao.pesquisarporfornecedor=SELECT CPF.ID, COTACAO_ID, C.DATA_ENVIO,  C.DATA_VALIDADE, PRO.ID PRODUTO_ID, PRO.NOME_PRINCIPAL PRODUTO_NM, U.DESCRICAO UNIDADE, CP.QUANTIDADE_SOLICITADA, CP.QUANTIDADE_LIBERADA, CPF.VALOR FROM   PUBLIC.UNIDADE_MEDIDA U, PUBLIC.PRODUTO PRO, PUBLIC.COTACAO C,  PUBLIC.COTACAO_PRODUTO CP, PUBLIC.COTACAO_PRODUTO_FORNECEDOR CPF WHERE  U.ID  = PRO.UNIDADE_MEDIDA_ID  AND  C.ID  = CP.COTACAO_ID  AND  PRO.ID  = CP.PRODUTO_ID  AND  CP.ID = CPF.COTACAO_PRODUTO_ID AND C.STATUS_COTACAO_ID = 2 AND C.ID = ? AND CPF.FORNECEDOR_ID = ?
cotacaoprodutofornecedordao.inserir=INSERT INTO COTACAO_PRODUTO_FORNECEDOR (COTACAO_PRODUTO_ID, FORNECEDOR_ID, QUANTIDADE_LIBERADA) SELECT CP.ID, F.ID, CP.QUANTIDADE_LIBERADA FROM COTACAO_PRODUTO CP, PRODUTO P, FORNECEDOR F, FORNECEDOR_CATEGORIA FC WHERE CP.PRODUTO_ID = P.ID AND FC.FORNECEDOR_ID = F.ID AND FC.CATEGORIA_ID = P.CATEGORIA_ID AND CP.COTACAO_ID = ?
cotacaoprodutofornecedordao.pesquisar=SELECT  CC.ID,  F.ID,  F.IDENTIFICADOR,  F.NOME_FANTASIA  ,  CC.VALOR ,  CC.FLAG_SELECIONADO FROM   FORNECEDOR F,  COTACAO_PRODUTO_FORNECEDOR CC WHERE  F.ID = CC.FORNECEDOR_ID AND CC.VALOR > 0 AND CC.COTACAO_PRODUTO_ID=?